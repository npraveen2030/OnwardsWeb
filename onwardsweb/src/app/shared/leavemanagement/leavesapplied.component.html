<div class="p-2">
  <div>
    <h4>Leaves Applied</h4>
  </div>
  @for(item of leavesandattendance;track $index) {
  <div class="card p-2 mb-1">
    <table class="table-custom">
      <tr>
        <td>{{ item.isLeave ? 'Leave Request' : 'Attendance' }}</td>
        <td>From</td>
        <td>To</td>
        <td>Day/Hr</td>
      </tr>
      <tr>
        <td>{{ item.isLeave ? '.............................' : 'Regularization' }}</td>
        <td class="text-secondary">{{ item.startDate | date : 'dd-MMM-yyyy' }}</td>
        <td class="text-secondary">{{ item.endDate | date : 'dd-MMM-yyyy' }}</td>
        <td class="text-secondary">{{ item.duration }} Day(s)</td>
        @if(item.status === "Requested") {
        <td class="text-primary">Requested</td>
        } @if(item.status === "Approved") {
        <td class="text-success">Approved</td>
        } @if(item.status === "Rejected") {
        <td class="text-danger">Rejected</td>
        } @if(item.status === "Cancelled") {
        <td class="text-warning">Cancelled</td>
        }

        <td><i class="bi bi-eye pe-2"></i></td>
        <td>
          <i
            class="bi bi-pencil"
            (click)="
              cancelrequestpopup(
                item.isLeave,
                item.startDate,
                item.endDate,
                item.id,
                item.leaveTypeId ?? 0,
                item.duration
              )
            "
          ></i>
        </td>
      </tr>
      <tr>
        <td>{{ item.isLeave ? item.leaveTypeName : '.............................' }}</td>
      </tr>
    </table>
  </div>
  }
</div>

<div
  class="modal fade"
  id="cancelrequest"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deletejobdetailsLabel">Cancellation Confirmation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">Do you want to Cancel?</div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-primary"
          (click)="isLeave ? updateleaves() : updateattendance()"
        >
          Cancel
        </button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
