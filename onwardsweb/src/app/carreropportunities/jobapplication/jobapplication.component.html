@if (showlist) {
<div class="container-fluid mt-4">
  <div class="card">
    <div class="card-header bg-light">
      <h5 class="mb-0">Job Applications</h5>
    </div>

    <div class="card-body">
      <!-- <h6 class="mb-3">Jobs Applied</h6> -->

      <p-table
        [value]="jobApplications"
        [paginator]="true"
        [rows]="itemsPerPage"
        [rowsPerPageOptions]="[5, 10, 20]"
        [responsiveLayout]="'scroll'"
        sortMode="single"
        [showCurrentPageReport]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} records"
        class="p-datatable-striped"
      >
        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="roleName">
              Job Title
              <p-sortIcon field="roleName"></p-sortIcon>
            </th>
            <th>Req ID</th>
            <th>Date Applied</th>
            <th>Status</th>
            <th>Status Date</th>
            <th>Next Step</th>
            <th>Job Location</th>
            <th>Actions</th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-job>
          <tr>
            <td>{{ job.roleName }}</td>
            <td>{{ job.jobId }}</td>
            <td>{{ job.createdDate | date : 'dd/MM/yyyy' }}</td>
            <td>{{ job.statusName }}</td>
            <td>statusDate</td>
            <td>nextStep</td>
            <td>{{ job.locationName }}</td>
            <td>
              <a href="javascript:void(0)" (click)="showJobdetails(job.jobId)" class="job-title"
                >view</a
              >
              |
              <a href="javascript:void(0)" (click)="showdeletemodal(job.id)" class="job-title"
                >withdraw</a
              >
            </td>
          </tr>
        </ng-template>

        <!-- Empty State -->
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="8" class="text-center">Displaying 0 records</td>
          </tr>
        </ng-template>
      </p-table>
      <div class="d-flex justify-content-end">
        <button class="btn btn-primary" (click)="findMoreJobs()">Find More Jobs</button>
      </div>
    </div>
  </div>
</div>
} @else {
<app-jobdescription
  [id]="JobId"
  [switchToJobList]="switchtolist.bind(this)"
  [setjobid]="setjobidprop.bind(this)"
  [referencedjobid]="setreferredjobid.bind(this)"
></app-jobdescription>
}

<div
  class="modal fade custom-high-zindex-modal"
  id="jobapplicationmodal"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="Label">WIthdrawal Confirmation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">Do you want to delete ?</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="withdrawJobApplication()">
          Delete
        </button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
