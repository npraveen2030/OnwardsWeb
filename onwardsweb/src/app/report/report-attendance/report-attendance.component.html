<div class="bg-light">
  <div class="container">
    <div class="row align-items-center">
      <!-- Start Date -->
      <div class="col-3">
        <div class="row align-items-center">
          <label class="col-4"> Start Date: </label>
          <div class="col-8">
            <input type="date" class="form-control" [(ngModel)]="startDate" />
          </div>
        </div>
      </div>

      <!-- End Date -->
      <div class="col-3">
        <div class="row align-items-center">
          <label class="col-4"> End Date: </label>
          <div class="col-8">
            <input type="date" class="form-control" [(ngModel)]="endDate" />
          </div>
        </div>
      </div>

      <!-- View  -->
      <div class="col-3">
        <button
          type="button"
          class="btn btn-primary"
          (click)="getAttendanceReports()"
          [disabled]="startDate === '' || endDate === ''"
        >
          View
        </button>
      </div>
    </div>
  </div>

  <div>
    <p-table
      [value]="attendanceReport"
      [paginator]="true"
      [rows]="5"
      [rowsPerPageOptions]="[5, 10, 20]"
      [responsiveLayout]="'scroll'"
      sortMode="single"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} records"
      class="p-datatable-striped"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="employeeCode" class="text-center">
            Employee Code <p-sortIcon field="employeeCode"></p-sortIcon>
          </th>

          <th pSortableColumn="fullName" class="text-center">
            Full Name <p-sortIcon field="fullName"></p-sortIcon>
          </th>

          <th class="text-center">Total</th>
          <th class="text-center">Approved</th>
          <th class="text-center">Rejected</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-record>
        <tr>
          <td class="text-center">{{ record.employeeCode }}</td>
          <td class="text-center">{{ record.fullName }}</td>
          <td class="text-center">{{ record.total }}</td>
          <td class="text-center">{{ record.approved }}</td>
          <td class="text-center">{{ record.rejected }}</td>
        </tr>
      </ng-template>

      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="5" class="text-center">{{ noDataMessage }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
