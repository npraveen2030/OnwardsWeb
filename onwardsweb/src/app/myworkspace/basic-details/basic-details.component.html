<div class="info-wrapper mt-4">

    <!-- Right Section -->
<div>
  <div class="card mt-1">
    <h5 class="ms-3 mt-3">Previous Experience Details</h5>
    <div class="card-body">
      
      <form #form="ngForm">
        <div *ngFor="let job of jobs; let i = index" class="d-flex gap-3 mb-3 align-items-start">
        <div class="d-flex gap-3 mb-3">
          <div class="form-floating flex-fill">
            <input type="text" 
            name="companyName"
            id="companyName"
            placeholder="Enter Company Name"
            class="form-control form-control-sm" required
            ngModel
            #companyName="ngModel">
            <label for="companyName">Company Name</label>
            <div *ngIf="isInvalid(companyName)" class="text-danger small">
                Company Name is Required
            </div>
          </div>

          <div class="form-floating flex-fill">
            <input type="text" 
            name="designation"
            id="designation"
            placeholder="Enter Designation*" 
            class="form-control form-control-sm" required
            ngModel
            #designation="ngModel">
            <label for="designation">Designation</label>
            <div *ngIf="isInvalid(designation)" class="text-danger small">
                Designation is Required
            </div>
          </div>

          <div class="form-floating flex-fill">
            <input type="date" 
            name="startDate"
            id="startDate"
            placeholder="Select Start Date*" 
            class="form-control form-control-sm" required
            ngModel
            #startDate="ngModel">
            <label for="startDate">Start Date</label>
            <div *ngIf="isInvalid(startDate)" class="text-danger small">
                Start Date is Required
            </div>
          </div>

          <div class="form-floating flex-fill">
            <input type="date" 
            name="endDate"
            id="endDate"
            placeholder="Select End Date*" 
            class="form-control form-control-sm" required
            ngModel
            #endDate="ngModel">
            <label for="endDate">End Date</label>
            <div *ngIf="isInvalid(endDate)" class="text-danger small">
                End Date is Required
            </div>
            
          </div>

          <button type="button" class="btn btn-primary btn-sm align-self-start ms-5" (click)="addJob()">+</button>
  <button *ngIf="jobs.length > 1"
          type="button"
          class="btn btn-danger btn-sm btn-same align-self-start"
          (click)="removeJob(i)">-</button>

        </div>
        </div>

        <hr><hr>
        <div class="mb-3">
  <h5>Marital Status</h5>
  <div class="form-check form-switch">
    <input class="form-check-input" 
           type="checkbox" 
           role="switch" 
           id="maritalStatus" 
           unchecked>
    <label class="form-check-label no-margin" for="maritalStatus">
      Unmarried or Married
    </label>
  </div>
</div>

        <!-- Existing fields above -->



<div class="d-flex gap-3 mb-3">
  <!-- Blood Donor Dropdown -->
  <div class="form-floating flex-fill">
    <select 
      name="title"
      id="title"
      class="form-select form-select-sm"
      required
      ngModel
      #title="ngModel">
      <option value="" disabled selected>Select One</option>
      <option value="Mrs">Mrs.</option>
      <option value="Miss">Miss.</option>
      <option value="Mr">Mr.</option>
    </select>
      <label for="bloodDonor">Title</label>
    <div *ngIf="isInvalid(title)" class="text-danger small">
      Title is Required
    </div>
  </div>

  <!-- PAN Number -->
  <div class="form-floating flex-fill">
    <input 
      type="text"
      name="spouseName"
      id="spouseName"
      placeholder="Enter Spouse Name"
      class="form-control form-control-sm"
      required
      ngModel
      #spouseName="ngModel">
      <label for="spouseName">Spouse Name</label>
    <div *ngIf="isInvalid(spouseName)" class="text-danger small">
      Spouse Name is Required
    </div>
  </div>

  <!-- Aadhar Number -->
  <div class="form-check form-switch flex-fill">
  <input class="form-check-input" 
         type="checkbox" 
         id="haveChildren" 
         name="haveChildren" 
         ngModel>
  <label class="form-check-label" for="haveChildren">
    Have Childrens
  </label>
</div>

</div>



        <div class="people-wrapper gap-3">
            <div *ngFor="let person of people; let i = index" class="d-flex gap-3 mb-3">
          <div class="form-floating flex-fill">
            <input type="text" 
            name="name"
            id="name"
            placeholder="Enter Name*" 
            class="form-control form-control-sm" required
            ngModel
            #name="ngModel">
            <label for="name">Name</label>
            <div *ngIf="isInvalid(name)" class="text-danger small">
                Name is Required
            </div>
          </div>

          <div class="form-floating flex-fill">
    <select 
      name="gender"
      id="gender"
      class="form-select form-select-sm"
      required
      ngModel
      #gender="ngModel">
      <option value="" disabled selected>Select One</option>
      <option value="Mrs">Male.</option>
      <option value="Miss">Female.</option>
      <option value="Mr">Prefer Not to Say.</option>
    </select>
      <label for="gender">Gender</label>
    <div *ngIf="isInvalid(gender)" class="text-danger small">
      Gender is Required
    </div>
  </div>

          <div class="form-floating flex-fill">
  <input type="date" 
         name="dob"
         id="dob"
         placeholder="Select DOB*" 
         class="form-control form-control-sm"
         required
         [(ngModel)]="dob"
         (change)="calculateAge()"
         #dobCtrl="ngModel">
  <label for="dob">DOB (dd/mm/yyyy)</label>
  <div *ngIf="isInvalid(dobCtrl)" class="text-danger small">
    DOB is Required
  </div>
</div>

<div class="form-floating flex-fill">
  <input type="text" 
         id="age"
         placeholder="Age*" 
         class="form-control form-control-sm"
         name="age"
         [value]="age"   
         readonly>
  <label for="age">Age</label>
</div>

<!-- + and - buttons -->
  <div class="d-flex align-items-start gap-3">
    <button type="button"
            class="btn btn-primary btn-sm align-self-start ms-5"
            (click)="addPerson()">+</button>
    <button *ngIf="people.length > 1"
            type="button"
            class="btn btn-danger btn-sm btn-same align-self-start"
            (click)="removePerson(i)">-</button>
  </div>

</div>
</div>
<hr>

<h5>Passport Status</h5>
<div class="gap-3 mb-3">
    <p>EDUCATIONAL DOCUMENTS (Documents to be attached and the file size should not exceed 500KB)</p>
        <h6 class="mt-2">B.Tech</h6>
        
    <!-- First Upload -->
<div style="width: 50%;" class="input-group input-group-sm mb-3 custom-file-group">
  <input type="text" class="form-control" [value]="selectedFileName[0]" readonly>
  <input type="file" #fileInput1 (change)="onFileSelected($event, 0)" hidden>
  <button class="btn p-0 d-flex" type="button" (click)="fileInput1.click()">
    <i class="bi bi-arrow-up up-btn"></i>
    <i class="bi bi-arrow-down down-btn"></i>
  </button>
</div>

<p class="mt-2">BASIC DOCUMENTS (Documents to be attached and the file size should not exceed 500KB)</p>
</div>
<h6 class="mt-2">Experience Letter</h6>

<!-- Second Upload -->
<div style="width: 50%;" class="input-group input-group-sm mb-3 custom-file-group">
  <input type="text" class="form-control" [value]="selectedFileName[1]" readonly>
  <input type="file" #fileInput2 (change)="onFileSelected($event, 1)" hidden>
  <button class="btn p-0 d-flex" type="button" (click)="fileInput2.click()">
    <i class="bi bi-arrow-up up-btn"></i>
    <i class="bi bi-arrow-down down-btn"></i>
  </button>
</div>

<!-- Second Upload Section -->


<h6 class="mt-2">Pass Book/Cancelled Cheque Leaf/Bank Account Statement</h6>

<!-- Third (Download Only for example) -->
<div style="width: 45%;" class="input-group input-group-sm mb-3 custom-file-group">
  <input type="text" class="form-control" [value]="selectedFileName[2]" readonly>
  <input type="file" #fileInput3 (change)="onFileSelected($event, 2)" hidden>
  <button class="btn p-0 d-flex" type="button" (click)="fileInput3.click()">
    <i class="bi bi-arrow-down down-btn"></i>
  </button>
</div>
<hr>
<!-- Buttons Row -->
<div class="d-flex justify-content-end gap-5 mt-4">
  <button 
    type="button" 
    class="btn btn-primary"
    (click)="saveDraft(form)">
    Save Draft
  </button>

  <button 
    type="button" 
    class="btn btn-primary"
    (click)="sendToApproval(form)">
    Send to Approval
  </button>
</div>


</form>
  </div>

